p8105\_hw3\_mjn2142
================
Matthew Neky
10/18/2021

### Setup Code

``` r
library(tidyverse)

knitr::opts_chunk$set(
  fig.width = 6,
  fig.asp = .6,
  out.width = "90%"
)

theme_set(theme_minimal() + theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = "viridis"
)

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

### Problem 1

``` r
library(p8105.datasets)
data("instacart")
```

The instacart dataset is quite large, with 15 columns and 1384617 rows.
The table is structured with each row corresponding to a single item
ordered from instacart and the associated information for that single
item. Some key variables are “order\_id,” “user\_id,” “product\_name,”
“aisle\_id,” department\_id," “aisle,” and “department.” For example,
the first item in the table is given the number 1, order\_id is 1,
user\_id is 112108, product\_name is Bulgarian Yogurt, aisle\_id is 120,
department\_id is 16, aisle is yogurt, and department is dairy eggs. As
made clear by this example, important variables take both numeric and
alphabetic forms. Certain columns will also be made up of distinct data
while others will have a few highly repeated categories.

``` r
aisle_df = instacart %>% 
  group_by(aisle) %>% 
  summarize(aisle_obs = n()) %>% 
  arrange(desc(aisle_obs))
```

There are 134 aisles with “fresh vegetables,” “fresh fruits,” and
“packaged vegetables fruits” as the three most popular in terms of items
ordered.

``` r
aisle_plot = aisle_df %>% 
  filter(
    aisle_obs > 10000
  ) %>% 
  ggplot(aes(x = aisle, y = aisle_obs)) +
  geom_point()
```

Most of the data points are below 40,000 in this plot, with only 5
aisles that have more than 40,000 items ordered

``` r
popular_item_df = 
  instacart %>% 
  filter(
    aisle %in% c("baking ingredients", "dog food care", "packaged vegetables fruits")
  ) %>% 
  group_by(aisle) %>% 
  count(product_name, name = "product_count") %>% 
  mutate(
    items_rank = min_rank(desc(product_count))
  ) %>% 
  filter(items_rank <= 3) %>% 
  select(-items_rank)

  knitr::kable(popular_item_df, format = "html")
```

<table>
<thead>
<tr>
<th style="text-align:left;">
aisle
</th>
<th style="text-align:left;">
product\_name
</th>
<th style="text-align:right;">
product\_count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
baking ingredients
</td>
<td style="text-align:left;">
Cane Sugar
</td>
<td style="text-align:right;">
336
</td>
</tr>
<tr>
<td style="text-align:left;">
baking ingredients
</td>
<td style="text-align:left;">
Light Brown Sugar
</td>
<td style="text-align:right;">
499
</td>
</tr>
<tr>
<td style="text-align:left;">
baking ingredients
</td>
<td style="text-align:left;">
Pure Baking Soda
</td>
<td style="text-align:right;">
387
</td>
</tr>
<tr>
<td style="text-align:left;">
dog food care
</td>
<td style="text-align:left;">
Organix Chicken & Brown Rice Recipe
</td>
<td style="text-align:right;">
28
</td>
</tr>
<tr>
<td style="text-align:left;">
dog food care
</td>
<td style="text-align:left;">
Small Dog Biscuits
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
dog food care
</td>
<td style="text-align:left;">
Snack Sticks Chicken & Rice Recipe Dog Treats
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
packaged vegetables fruits
</td>
<td style="text-align:left;">
Organic Baby Spinach
</td>
<td style="text-align:right;">
9784
</td>
</tr>
<tr>
<td style="text-align:left;">
packaged vegetables fruits
</td>
<td style="text-align:left;">
Organic Blueberries
</td>
<td style="text-align:right;">
4966
</td>
</tr>
<tr>
<td style="text-align:left;">
packaged vegetables fruits
</td>
<td style="text-align:left;">
Organic Raspberries
</td>
<td style="text-align:right;">
5546
</td>
</tr>
</tbody>
</table>

The most popular item in the baking ingredients aisle is Light Brown
Sugar (499 orders), the most popular in dog food care is “Snack Sticks
Chicken & Rice Recipe Dog Treats” (30 orders), and the most poular in
packaged vegetables fruits is “Organic Baby Spinach” (9784 orders).
